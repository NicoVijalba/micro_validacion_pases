<VirtualHost *:443>
    ServerName api.example.com

    SSLEngine on
    SSLCertificateFile /etc/pki/tls/certs/api.example.com.crt
    SSLCertificateKeyFile /etc/pki/tls/private/api.example.com.key
    SSLProtocol -all +TLSv1.2 +TLSv1.3
    SSLCipherSuite HIGH:!aNULL:!MD5
    SSLHonorCipherOrder on

    ProxyRequests Off
    ProxyPreserveHost On
    RequestHeader set X-Forwarded-Proto "https"

    ProxyPass        / http://127.0.0.1:8080/
    ProxyPassReverse / http://127.0.0.1:8080/

    Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "DENY"
    Header always set Referrer-Policy "no-referrer"

    LimitRequestBody 1048576
    Timeout 30
    ProxyTimeout 30

    ErrorLog /var/log/httpd/validacion-pases-error.log
    CustomLog /var/log/httpd/validacion-pases-access.log combined
</VirtualHost>
